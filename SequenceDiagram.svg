<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="382px" preserveAspectRatio="none" style="width:933px;height:382px;" version="1.1" viewBox="0 0 933 382" width="933px" zoomAndPan="magnify"><defs><filter height="300%" id="fibscr0p3oe61" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fibscr0p3oe61)" height="115.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="786" y="213.7891"/><rect fill="#FFFFFF" filter="url(#fibscr0p3oe61)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="256" x="663" y="259.1406"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="41.6094" y2="337.8438"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="278" x2="278" y1="84.9141" y2="337.8438"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="495" x2="495" y1="131.5234" y2="337.8438"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="791" x2="791" y1="178.1328" y2="337.8438"/><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="54" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="12" y="26.5332">main()</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="54" x="5" y="336.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="12" y="358.377">main()</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="178" x="187" y="336.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="194" y="358.377">shared_ptr&lt;Data&gt;:spData</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="228" x="379" y="336.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="386" y="358.377">shared_ptr&lt;Status&gt;:spExecStatus</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="232" x="673" y="336.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="680" y="358.377">unique_ptr&lt;StateMachine&gt;:spSTM</text><rect fill="#FFFFFF" filter="url(#fibscr0p3oe61)" height="115.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="786" y="213.7891"/><polygon fill="#383838" points="175,69.9609,185,73.9609,175,77.9609,179,73.9609" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="34" x2="181" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="41" y="69.1045">make_shared&lt;Data&gt;()</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="178" x="187" y="51.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="194" y="73.1426">shared_ptr&lt;Data&gt;:spData</text><polygon fill="#383838" points="367,116.5703,377,120.5703,367,124.5703,371,120.5703" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="34" x2="373" y1="120.5703" y2="120.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="41" y="115.7139">make_shared&lt;Status&gt;()</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="228" x="379" y="98.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="386" y="119.752">shared_ptr&lt;Status&gt;:spExecStatus</text><polygon fill="#383838" points="661,163.1797,671,167.1797,661,171.1797,665,167.1797" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="34" x2="667" y1="167.1797" y2="167.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="41" y="162.3232">make_unique&lt;StateMachine&gt;(spData, spExecStatus)</text><rect fill="#F8F8F8" filter="url(#fibscr0p3oe61)" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="232" x="673" y="144.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="680" y="166.3613">unique_ptr&lt;StateMachine&gt;:spSTM</text><polygon fill="#383838" points="774,209.7891,784,213.7891,774,217.7891,778,213.7891" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="34" x2="780" y1="213.7891" y2="213.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="41" y="208.9326">runSTM()</text><line style="stroke:#383838;stroke-width:1.0;" x1="495" x2="505" y1="244.1406" y2="240.1406"/><line style="stroke:#383838;stroke-width:1.0;" x1="495" x2="505" y1="244.1406" y2="248.1406"/><line style="stroke:#383838;stroke-width:1.0;" x1="495" x2="785" y1="244.1406" y2="244.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="512" y="239.2842">setStatusMessage("STM: Starting execution")</text><path d="M663,259.1406 L736,259.1406 L736,267.1406 L726,277.1406 L663,277.1406 L663,259.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="256" x="663" y="259.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="678" y="273.6357">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147" x="751" y="272.5596">[checkForChangingState()]</text><line style="stroke:#383838;stroke-width:1.0;" x1="796" x2="838" y1="299.8438" y2="299.8438"/><line style="stroke:#383838;stroke-width:1.0;" x1="838" x2="838" y1="299.8438" y2="312.8438"/><line style="stroke:#383838;stroke-width:1.0;" x1="797" x2="838" y1="312.8438" y2="312.8438"/><polygon fill="#383838" points="807,308.8438,797,312.8438,807,316.8438,803,312.8438" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="803" y="294.9873">changeState()</text><!--MD5=[3a5060555ff1c785791960325cd6fc39]
@startuml
skinparam monochrome true
skinparam classAttributeIconSize 0

participant "main()" as A
participant "shared_ptr<Data>:spData" as B
participant "shared_ptr<Status>:spExecStatus" as C
participant "unique_ptr<StateMachine>:spSTM" as D
A ->  B **: make_shared<Data>()
A ->  C **: make_shared<Status>()
A ->  D **: make_unique<StateMachine>(spData, spExecStatus)
A -> D : runSTM()
activate D
D ->> C : setStatusMessage("STM: Starting execution")
loop checkForChangingState()
    D -> D: changeState()
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>